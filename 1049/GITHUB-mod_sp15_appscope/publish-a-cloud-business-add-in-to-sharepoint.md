---
title: Публикация облачной бизнес-надстройки в SharePoint
ms.prod: SHAREPOINT
ms.assetid: b528a23f-72c3-42cb-8265-1c5b9238d404
---


# Публикация облачной бизнес-надстройки в SharePoint
Вы можете опубликовать свою облачную бизнес-надстройку как надстройку для SharePoint с размещением у поставщика. Используя такой тип надстроек, вы сможете гибко развертывать свое веб-приложение и базу данных в локальном сайте SharePoint, Microsoft Azure или на стороннем сайте размещения. После того как вы опубликуете надстройку, другие люди смогут запускать ее из SharePoint на своих компьютерах и мобильных устройствах.Вы можете опубликовать свою надстройку прямо на сайте, используя WebDeploy, или создать для нее пакет, который можно развертывать на многочисленных серверах.
## Публикация надстройки
<a name="publish"> </a>


1. В **обозревателе решений** откройте контекстное меню для узла приложения верхнего уровня, как показано на рисунке 1, а затем выберите пункт **Опубликовать**.

   **Рисунок 1. Узел верхнего уровня**



!\[Узел IncidentManager](images/CBA_IM_18.PNG)





2. В мастере публикации приложений LightSwitch на странице **Параметры SharePoint** выберите переключатель **Размещение у поставщика**, а затем нажмите кнопку **Далее**.


3. На странице **Конфигурация сервера приложений** выберите переключатель **Сервер IIS** и нажмите **Далее**.

    > **Примечание**
      > Если у вас есть файл параметров публикации (PUBLISHSETTINGS или PUBXML), созданный для другой надстройки, вы можете использовать его, чтобы предоставить остальную информацию, необходимую для публикации. Если этот так, нажмите в мастере кнопку **Параметры импорта**. 
4. На странице **Выходные данные публикации** выберите переключатель **Опубликовать прямо на сервер** и нажмите **Далее**.


5. На странице **Параметры публикации** в текстовом поле **URL-адрес службы** введите URL-адрес для сервера, на котором вы хотите опубликовать свою надстройку.

    В случае публикации на сервере компании по размещению веб-сайтов она предоставит вам это значение в одном из следующих форматов:

  -  _URL-адрес_компании_размещения_ (например, `contoso.com`)


  -  `https://` _URL-адрес_компании_размещения_ (например, `https://contoso.com`)


  -  `https://` _URL-адрес_компании_размещения_ `:8172/msdeploy.axd` (например, `https://contoso.com:8172/msdeploy.axd`)



    В случае тестовой публикации в службы IIS на собственном компьютере введите  `localhost` или имя своего компьютера.

    В случае публикации на сервере в собственной сети введите один из этих URL-адресов:

  -  `http://` _Имя_сервера_


  -  `http://` _Имя_сервера_ `/msdeployagentservice`



    > **Примечание**
      > В случае публикации через брандмауэр вам может потребоваться открыть порт 8172. 
6. В текстовом поле **Сайт или приложение** введите имена веб-сайта IIS и вашей надстройки.

    В случае публикации на сервере компании по размещению веб-сайтов она предоставит вам это значение. Обычно оно представляет собой доменное имя (например,  `contoso.com`) или доменное имя и имя надстройки (например,  `contoso.com/MyApp`).

    В случае тестовой публикации в службы IIS на своем компьютере или публикации на сервере в своей внутренней сети введите имя сайта и надстройки, которые отображаются в диспетчере IIS. Например, если вы публикуете надстройку MyApp на веб-сайте по умолчанию в службах IIS, введите Веб-сайт по умолчанию/MyApp.

    > **Примечание**
      > Если вы публикуете приложение в существующую веб-папку и хотите удалить какой-либо контент, установите флажок **Удалить дополнительные файлы в назначении**. 
7. В текстовых полях **Имя пользователя** и **Пароль** введите учетные данные для учетной записи, имеющей достаточные полномочия для выполнения задач развертывания на веб-сервере назначения, а затем нажмите **Далее**.

    В случае публикации в компании по размещению она предоставляет эти значения.


8. На странице **Параметры безопасности** выберите переключатель **Да, пользователи должны использовать для подключения HTTPS** и нажмите **Далее**.


9. На странице **Подключения к данным** на вкладке **Подключения к базам данных** введите строки подключения администратора и пользователя для сервера базы данных, на котором вы хотите опубликовать базу данных своей надстройки.

    > **Примечание**
      > База данных не обязательно должна находиться на сервере, на котором вы публикуете надстройку. 
10. На вкладке **Прикрепленные источники данных** необходимым образом обновите строки подключения для всех дополнительных подключений, а затем нажмите **Далее**.


11. На странице **Размещение у поставщика** в текстовом поле **Где размещено ваше приложение LightSwitch?** введите полный URL-адрес для своей надстройки.

    В большинстве случаев этот URL-адрес будет совпадать со значениями **URL-адрес службы** и **Сайт или приложение**, которые вы ввели раньше (например,  `https://contoso.com/MyApplication`).


12. Введите значения **Идентификатор клиента** и **Секрет клиента** для своей надстройки.

    Вы можете узнать эти значения на странице **appregnew** своего сайта SharePoint или на панели мониторинга продаж. См. [Руководство по регистрации надстроек для SharePoint 2013](http://msdn.microsoft.com/ru-ru/library/office/jj687469%28v=office.15%29.aspx).


13. Выберите **Публикация**, чтобы опубликовать надстройку.

    Когда надстройка будет опубликована, откроется **проводник**, в котором будет отображаться каталог **Публикация** для вашего проекта.



## Упаковка надстройки
<a name="package"> </a>


1. В **обозревателе решений** откройте контекстное меню для узла приложения верхнего уровня, как показано на рисунке 1, а затем выберите пункт **Опубликовать**.

   **Рисунок 1. Узел верхнего уровня**



!\[Узел IncidentManager](images/CBA_IM_18.PNG)





2. В мастере публикации приложений LightSwitch на странице **Параметры SharePoint** выберите переключатель **Размещение у поставщика**, а затем нажмите кнопку **Далее**.


3. На странице **Конфигурация сервера приложений** выберите переключатель **Сервер IIS** и нажмите **Далее**.

    > **Примечание**
      > Если у вас есть файл параметров публикации (PUBLISHSETTINGS или PUBXML), созданный для другой надстройки, вы можете использовать его, чтобы предоставить остальную информацию, необходимую для публикации. Если этот так, нажмите в мастере кнопку **Параметры импорта**. 
4. На странице **Выходные данные публикации** выберите переключатель **Создать пакет на диске** и нажмите **Далее**.


5. На странице **Параметры публикации** в текстовом поле **Как должен быть назван веб-сайт?** введите имя для веб-сайта.

    По умолчанию используется имя надстройки.


6. В текстовом поле **Где должен быть создан пакет?** введите путь к расположению, где необходимо опубликовать выходные данные, а затем нажмите **Далее**.

    Расположением по умолчанию является подкаталог "Публикация" в каталоге проекта.


7. На странице **Параметры безопасности** выберите переключатель **Да, пользователи должны использовать для подключения HTTPS** и нажмите **Далее**.


8. На странице **Конфигурация базы данных** выберите переключатель **Создать новую базу данных:** и введите имя своей надстройки в качестве имени базы данных.


9. Выберите вкладку **Прикрепленные источники данных** и необходимым образом обновите строки подключения для всех дополнительных подключений, а затем нажмите **Далее**.


10. На странице **Размещение у поставщика** в текстовом поле **Где размещено ваше приложение LightSwitch?** введите полный URL-адрес для своей надстройки.

    В большинстве случаев этот URL-адрес будет совпадать со значениями **URL-адрес службы** и **Сайт или приложение**, которые вы ввели ранее (например,  `https://contoso.com/MyApplication`).


11. Введите **Идентификатор клиента** и **Секрет клиента** для своей надстройки.

    Вы можете узнать эти значения на странице **appregnew** своего сайта SharePoint или на панели мониторинга продаж. См. [Руководство по регистрации надстроек для SharePoint 2013](http://msdn.microsoft.com/ru-ru/library/office/jj687469%28v=office.15%29.aspx).


12. Выберите **Публикация**, чтобы опубликовать надстройку.

    Когда ваша надстройка будет опубликована, файл ZIP с пакетом помещается в каталог, который вы указали на этапе 4. После создания этого пакета администратор сервера сможет с помощью средства MSDeploy развернуть вашу надстройку на серверах, на которых запущены службы IIS и SQL Server.



## Дополнительные ресурсы
<a name="bk_addresources"> </a>


-  [Регистрация надстроек для SharePoint 2013](register-sharepoint-add-ins-2013.md)


-  [Публикация облачных бизнес-надстроек](publish-cloud-business-add-ins.md)



